<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="UTF-8" />
    <title>Al-Qur'an ‚Ä¢ Word-by-Word (Bangla)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      :root {
        --bg-main: #020617;
        --bg-card: rgba(15, 23, 42, 0.92);
        --bg-card-soft: rgba(15, 23, 42, 0.8);
        --border-soft: rgba(30, 64, 175, 0.7);
        --accent-soft: rgba(96, 165, 250, 0.4);
        --accent-strong: #38bdf8;
        --accent-strong-2: #a855f7;
        --text-main: #e5e7eb;
        --text-soft: #9ca3af;
        --text-muted: #6b7280;
        --danger: #f97373;
        --radius-lg: 1rem;
        --radius-xl: 1.4rem;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: radial-gradient(circle at top, #020617, #000);
        color: var(--text-main);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        padding: 16px;
      }

      .app-shell {
        width: 100%;
        max-width: 1280px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      header.app-header {
        background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.3), transparent 55%),
                    radial-gradient(circle at top right, rgba(236, 72, 153, 0.25), transparent 55%),
                    linear-gradient(135deg, #020617, #020617);
        border-radius: 1.2rem;
        padding: 10px 14px;
        border: 1px solid rgba(51, 65, 85, 0.9);
        box-shadow: 0 18px 45px rgba(15, 23, 42, 0.8);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }

      .header-main-title {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .header-main-title h1 {
        font-size: 1.1rem;
        letter-spacing: 0.05em;
      }

      .header-main-title .subtitle {
        font-size: 0.8rem;
        color: var(--text-soft);
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .pill-badge {
        font-size: 0.75rem;
        padding: 2px 8px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.7);
        color: var(--text-soft);
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .pill-badge span {
        font-size: 0.95em;
      }

      .layout-main {
        display: grid;
        grid-template-columns: minmax(0, 2.05fr) minmax(0, 1.4fr);
        gap: 10px;
      }

      .panel {
        background: var(--bg-card);
        border-radius: var(--radius-xl);
        border: 1px solid rgba(30, 64, 175, 0.6);
        padding: 10px;
        box-shadow: 0 16px 40px rgba(15, 23, 42, 0.85);
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 6px;
        padding-bottom: 4px;
        border-bottom: 1px solid rgba(30, 64, 175, 0.45);
      }

      .panel-title-group {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .panel-title-group h2 {
        font-size: 0.95rem;
      }

      .panel-title-group .panel-subtitle {
        font-size: 0.75rem;
        color: var(--text-soft);
      }

      .panel-header-right {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .badge-soft {
        font-size: 0.7rem;
        padding: 2px 6px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.8);
        border: 1px solid rgba(148, 163, 184, 0.75);
        color: var(--text-soft);
      }

      .btn-ghost {
        font-size: 0.8rem;
        padding: 3px 8px;
        border-radius: 999px;
        border: 1px solid rgba(51, 65, 85, 0.9);
        background: radial-gradient(circle at top, rgba(30, 64, 175, 0.5), rgba(15, 23, 42, 0.95));
        color: #e5e7eb;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .btn-ghost span.icon {
        font-size: 0.9em;
      }

      .btn-ghost:hover {
        border-color: rgba(59, 130, 246, 0.9);
        box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.35);
      }

      .mode-toggle {
        display: inline-flex;
        padding: 3px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(30, 64, 175, 0.7);
        gap: 3px;
      }

      .mode-toggle button {
        border: none;
        font-size: 0.76rem;
        padding: 3px 9px;
        border-radius: 999px;
        cursor: pointer;
        background: transparent;
        color: var(--text-soft);
      }

      .mode-toggle button.active {
        background: linear-gradient(135deg, #38bdf8, #4f46e5);
        color: #0b1120;
        font-weight: 600;
      }

      .settings-panel {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.92), rgba(2, 6, 23, 0.96));
        padding: 6px 8px;
        border-radius: 0.9rem;
        border: 1px solid rgba(30, 64, 175, 0.7);
      }

      .settings-group {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
        align-items: center;
      }

      .settings-label {
        font-size: 0.75rem;
        color: var(--text-soft);
      }

      .segmented-control {
        display: inline-flex;
        border-radius: 999px;
        border: 1px solid rgba(55, 65, 81, 0.9);
        overflow: hidden;
        background: rgba(17, 24, 39, 0.9);
      }

      .segmented-control button {
        border: none;
        padding: 2px 8px;
        font-size: 0.75rem;
        cursor: pointer;
        background: transparent;
        color: var(--text-soft);
      }

      .segmented-control button.active {
        background: rgba(30, 64, 175, 0.95);
        color: var(--text-main);
      }

      .checkbox-chip {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        font-size: 0.78rem;
        padding: 2px 7px;
        border-radius: 999px;
        border: 1px solid rgba(55, 65, 81, 0.9);
        background: rgba(15, 23, 42, 0.9);
        color: var(--text-soft);
        cursor: pointer;
      }

      .checkbox-chip input {
        accent-color: #38bdf8;
      }

      .reader-container {
        margin-top: 6px;
        background: rgba(15, 23, 42, 0.96);
        border-radius: 0.9rem;
        border: 1px solid rgba(30, 64, 175, 0.5);
        padding: 8px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        max-height: calc(100vh - 240px);
        overflow-y: auto;
      }

      .bismillah-block {
        text-align: center;
        margin-bottom: 4px;
        padding-bottom: 4px;
        border-bottom: 1px dashed rgba(51, 65, 85, 0.9);
      }

      .bismillah-ar {
        font-family: "Scheherazade New", "Amiri", system-ui;
        font-size: 1.2rem;
        direction: rtl;
        margin-bottom: 2px;
      }

      .bismillah-bn {
        font-size: 0.8rem;
        color: var(--text-soft);
      }

      .bismillah-trans {
        margin-top: 3px;
        font-size: 0.78rem;
        color: var(--text-main);
        text-align: left;
      }

      .bismillah-trans span.label {
        color: var(--accent-strong);
        font-size: 0.76rem;
        margin-right: 4px;
      }

      .ayah-block {
        padding: 6px 7px;
        margin-bottom: 4px;
        border-radius: 0.75rem;
        background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.18), transparent 55%),
                    radial-gradient(circle at bottom right, rgba(168, 85, 247, 0.18), transparent 60%),
                    rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(30, 64, 175, 0.7);
      }

      .ayah-meta-line {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.72rem;
        color: var(--text-soft);
        margin-bottom: 3px;
      }

      .ayah-arabic {
        font-family: "Scheherazade New", "Amiri", system-ui;
        direction: rtl;
        font-size: 1.2rem;
        line-height: 2.2;
        text-align: right;
      }

      .word-token {
        display: inline-block;
        padding: 1px 4px;
        margin: 0 1px;
        border-radius: 0.55rem;
        cursor: pointer;
        transition: all 0.13s ease-out;
      }

      .word-token:hover {
        background: rgba(37, 99, 235, 0.23);
        box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.5);
      }

      .word-token.active {
        background: radial-gradient(circle at top, rgba(59, 130, 246, 0.95), rgba(37, 99, 235, 0.9));
        color: #0b1120;
        box-shadow: 0 0 0 1px rgba(191, 219, 254, 0.95), 0 10px 20px rgba(15, 23, 42, 0.9);
      }

      .ayah-translation-block {
        margin-top: 4px;
        padding-top: 3px;
        border-top: 1px dashed rgba(55, 65, 81, 0.9);
        display: flex;
        flex-direction: column;
        gap: 3px;
      }

      .ayah-translation-line {
        font-size: 0.82rem;
        line-height: 1.7;
      }

      .ayah-translation-label {
        font-size: 0.75rem;
        color: var(--accent-strong);
        margin-right: 4px;
      }

      .detail-panel-inner {
        display: flex;
        flex-direction: column;
        gap: 6px;
        height: 100%;
      }

      .detail-header {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .detail-title {
        font-size: 0.9rem;
      }

      .detail-subtitle {
        font-size: 0.76rem;
        color: var(--text-soft);
      }

      .detail-segments {
        display: flex;
        gap: 4px;
      }

      .detail-body {
        flex: 1;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.98), rgba(2, 6, 23, 0.98));
        border-radius: 0.9rem;
        border: 1px solid rgba(30, 64, 175, 0.7);
        padding: 8px;
        display: flex;
        flex-direction: column;
        gap: 6px;
        min-height: 180px;
      }

      .detail-placeholder {
        font-size: 0.8rem;
        color: var(--text-soft);
        display: flex;
        flex-direction: column;
        gap: 3px;
      }

      .detail-word-ar {
        font-family: "Scheherazade New", "Amiri", system-ui;
        font-size: 1.3rem;
        direction: rtl;
        text-align: right;
      }

      .detail-meaning {
        font-size: 0.9rem;
        line-height: 1.7;
      }

      .detail-grammer-title {
        font-size: 0.8rem;
        color: var(--accent-strong);
      }

      .detail-grammer-text {
        font-size: 0.82rem;
        color: var(--text-main);
        line-height: 1.7;
        white-space: pre-wrap;
        border-top: 1px dashed rgba(75, 85, 99, 0.8);
        padding-top: 4px;
      }

      .detail-footer {
        font-size: 0.75rem;
        color: var(--text-muted);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 4px;
      }

      .back-home-link {
        font-size: 0.78rem;
        color: var(--accent-strong);
        cursor: pointer;
        text-decoration: underline dashed;
      }

      .sura-list {
        margin-top: 4px;
        background: rgba(15, 23, 42, 0.96);
        border-radius: 0.9rem;
        border: 1px solid rgba(30, 64, 175, 0.55);
        padding: 8px;
        max-height: calc(100vh - 230px);
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .sura-list-item {
        border-radius: 0.75rem;
        border: 1px solid rgba(31, 41, 55, 0.9);
        padding: 6px 7px;
        background: linear-gradient(120deg, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.96));
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 6px;
        transition: all 0.15s ease-out;
      }

      .sura-list-item:hover {
        border-color: rgba(59, 130, 246, 0.9);
        box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.4);
        transform: translateY(-1px);
      }

      .sura-list-item.active {
        border-color: rgba(96, 165, 250, 0.9);
        background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.35), transparent 55%),
                    radial-gradient(circle at bottom right, rgba(14, 165, 233, 0.35), transparent 65%),
                    rgba(15, 23, 42, 0.98);
      }

      .sura-list-main {
        display: flex;
        flex-direction: column;
        gap: 1px;
      }

      .sura-list-title-line {
        font-size: 0.86rem;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .sura-num-pill {
        font-size: 0.72rem;
        padding: 1px 6px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(55, 65, 81, 0.9);
        color: var(--text-soft);
      }

      .sura-name-bn {
        font-weight: 500;
      }

      .sura-name-ar {
        font-family: "Scheherazade New", "Amiri", system-ui;
        direction: rtl;
        font-size: 0.9rem;
      }

      .sura-list-meta {
        font-size: 0.72rem;
        color: var(--text-muted);
      }

      .sura-list-right {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 2px;
      }

      .sura-type-chip {
        font-size: 0.7rem;
        padding: 1px 6px;
        border-radius: 999px;
        border: 1px solid rgba(55, 65, 81, 0.9);
        color: var(--text-soft);
      }

      .sura-ayah-count {
        font-size: 0.72rem;
        color: var(--text-muted);
      }

      footer.app-footer {
        margin-top: 6px;
        font-size: 0.7rem;
        color: var(--text-muted);
        display: flex;
        justify-content: space-between;
        gap: 6px;
      }

      @media (max-width: 900px) {
        body {
          padding: 10px;
        }

        header.app-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .layout-main {
          grid-template-columns: minmax(0, 1fr);
        }

        .reader-container {
          max-height: none;
        }

        .sura-list {
          max-height: none;
        }
      }

      /* MOBILE WORD DETAIL MODAL */
      .word-modal-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.78);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 50;
        padding: 0.75rem;
      }

      .word-modal {
        width: 100%;
        max-width: 520px;
        max-height: 80vh;
        background: radial-gradient(circle at top, rgba(56, 189, 248, 0.18), transparent 55%),
                    radial-gradient(circle at bottom, rgba(129, 140, 248, 0.18), transparent 60%),
                    rgba(15, 23, 42, 0.98);
        border-radius: 1.1rem;
        border: 1px solid rgba(148, 163, 184, 0.8);
        box-shadow: 0 18px 45px rgba(15, 23, 42, 0.9);
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .word-modal-header {
        padding: 0.4rem 0.75rem;
        border-bottom: 1px solid rgba(51, 65, 85, 0.8);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.5rem;
      }

      .word-modal-title {
        font-size: 0.8rem;
        color: #e5e7eb;
      }

      .word-modal-close {
        border: none;
        border-radius: 999px;
        padding: 0.2rem 0.6rem;
        font-size: 0.8rem;
        background: rgba(30, 64, 175, 0.75);
        color: #e5e7eb;
        cursor: pointer;
      }

      .word-modal-body {
        padding: 0.6rem 0.7rem 0.7rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        overflow-y: auto;
      }

      .word-modal-section-title {
        font-size: 0.75rem;
        color: #a5b4fc;
        margin-bottom: 0.1rem;
        font-weight: 600;
      }

      .word-modal-word {
        font-size: 1.1rem;
        margin-bottom: 0.1rem;
        color: #e5e7eb;
        direction: rtl;
        text-align: right;
        font-family: "Scheherazade New", "Amiri", system-ui;
      }

      .word-modal-meaning {
        font-size: 0.9rem;
        color: #e5e7eb;
        line-height: 1.7;
      }

      .word-modal-grammar {
        font-size: 0.85rem;
        color: #e5e7eb;
        line-height: 1.7;
        white-space: pre-wrap;
        border-top: 1px dashed rgba(75, 85, 99, 0.7);
        padding-top: 0.35rem;
        margin-top: 0.2rem;
      }

      @media (min-width: 901px) {
        .word-modal-backdrop {
          display: none !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <div class="header-main-title">
          <h1>AL-QUR'AN</h1>
          <div class="subtitle">Word-by-Word ‚Ä¢ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü‡¶∏‡¶π</div>
        </div>
        <div class="header-actions">
          <div class="pill-badge">
            <span>üìñ</span>
            <span>‡¶¨‡ßá‡¶ü‡¶æ ‡¶∞‡¶ø‡¶°‡¶æ‡¶∞</span>
          </div>
          <div class="pill-badge">
            <span>üß†</span>
            <span>‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶∏‡¶π</span>
          </div>
        </div>
      </header>

      <main class="layout-main">
        <section class="panel">
          <div class="panel-header">
            <div class="panel-title-group">
              <h2 id="readerPanelTitle">‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶® ‡¶∞‡¶ø‡¶°‡¶æ‡¶∞</h2>
              <div class="panel-subtitle" id="readerPanelSubtitle">
                ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶Æ‡ßã‡¶° ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶® ‚Äî ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ / ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá
              </div>
            </div>
            <div class="panel-header-right">
              <span class="badge-soft" id="currentSuraInfo">
                ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø
              </span>
            </div>
          </div>

          <div class="settings-panel">
            <div class="settings-group">
              <div class="settings-label">‡¶Æ‡ßã‡¶°</div>
              <div class="mode-toggle">
                <button id="modeSimpleBtn" class="active" data-mode="simple">
                  ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶
                </button>
                <button id="modeWordByWordBtn" data-mode="word">
                  ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá
                </button>
              </div>
            </div>

            <div class="settings-group">
              <div class="settings-label">‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ï</div>
              <label class="checkbox-chip">
                <input type="checkbox" id="chkOsmani" checked />
                <span>‡¶§‡¶æ‡¶´‡¶∏‡ßÄ‡¶∞‡ßá ‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ</span>
              </label>
              <label class="checkbox-chip">
                <input type="checkbox" id="chkTawjih" checked />
                <span>‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®</span>
              </label>
            </div>

            <div class="settings-group">
              <div class="settings-label">‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</div>
              <div class="segmented-control">
                <button id="fontArabicSmall">‡¶õ‡ßã‡¶ü</button>
                <button id="fontArabicMedium" class="active">‡¶Æ‡¶æ‡¶ù‡¶æ‡¶∞‡¶ø</button>
                <button id="fontArabicLarge">‡¶¨‡ßú</button>
              </div>
              <span class="settings-label" style="margin-left: 6px;">‡¶Ü‡¶∞‡¶¨‡¶ø</span>
            </div>

            <div class="settings-group">
              <div class="segmented-control">
                <button id="fontBanglaSmall">‡¶õ‡ßã‡¶ü</button>
                <button id="fontBanglaMedium" class="active">‡¶Æ‡¶æ‡¶ù‡¶æ‡¶∞‡¶ø</button>
                <button id="fontBanglaLarge">‡¶¨‡ßú</button>
              </div>
              <span class="settings-label" style="margin-left: 6px;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
            </div>
          </div>

          <div class="reader-container" id="readerContainer">
            <div class="detail-placeholder" id="initialPlaceholder">
              <div>üìñ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®...</div>
              <div>‡¶°‡¶æ‡¶® ‡¶™‡¶æ‡¶∂‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
              <div>‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶â‡¶™‡¶∞‡ßá ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßã‡¶° ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‚Äî ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡•§</div>
            </div>
          </div>
        </section>

        <aside class="panel">
          <div class="panel-header">
            <div class="panel-title-group">
              <h2>üìö ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h2>
              <div class="panel-subtitle">‡ßß‚Äì‡ßß‡ßß‡ß™ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡ßÇ‡¶∞‡¶æ ‚Äî ‡¶Ø‡¶æ‡¶∞ JSON data ‡¶Ü‡¶õ‡ßá, ‡¶§‡¶æ ‡¶™‡ßú‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá</div>
            </div>
            <div class="panel-header-right">
              <span class="badge-soft">Total: <span id="suraCountBadge">0</span></span>
            </div>
          </div>

          <div class="sura-list" id="suraList"></div>
        </aside>

        <aside class="panel">
          <div class="detail-panel-inner">
            <div class="detail-header">
              <div class="detail-title">üîç ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</div>
              <div class="detail-subtitle" id="detailSubtitle">
                ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶Æ‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∂‡¶¨‡ßç‡¶¶‡ßá tap ‡¶ï‡¶∞‡ßÅ‡¶®
              </div>
              <div class="detail-segments">
                <button class="btn-ghost" id="btnGrammarToggle">
                  <span class="icon">üìö</span>
                  <span>‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì</span>
                </button>
              </div>
            </div>

            <div class="detail-body">
              <div class="detail-placeholder" id="detailPlaceholder">
                <div>‚öôÔ∏è ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶¨‡¶ø‡¶ß‡¶ø</div>
                <div>‡ßß. ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶Æ‡ßã‡¶° ‡¶•‡ßá‡¶ï‡ßá <b>‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá</b> ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
                <div>‡ß®. ‡¶è‡¶∞‡¶™‡¶∞ ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶Ü‡ßü‡¶æ‡¶§‡ßá‡¶∞ ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∂‡¶¨‡ßç‡¶¶‡ßá tap ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
                <div>‡ß©. ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∂‡¶¨‡ßç‡¶¶‡¶æ‡¶∞‡ßç‡¶• ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§</div>
              </div>

              <div style="display:none;" id="detailContent">
                <div class="detail-word-ar" id="detailWord"></div>
                <div class="detail-meaning" id="detailMeaning"></div>
                <div>
                  <div class="detail-grammer-title">‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü</div>
                  <div class="detail-grammer-text" id="detailGrammar"></div>
                </div>
              </div>
            </div>

            <div class="detail-footer">
              <div id="detailFooterInfo">‡¶Æ‡ßã‡¶ü ‡¶∂‡¶¨‡ßç‡¶¶: ‚Äî</div>
              <div class="back-home-link" id="backHomeLink">
                ‚¨ÖÔ∏è ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
              </div>
            </div>
          </div>
        </aside>
      </main>

      <footer class="app-footer">
        <div>üìå ‡¶®‡ßã‡¶ü: ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ß‡ßÄ‡¶® ‚Äî ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶∏‡¶¨ ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø word-by-word data ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá ‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡•§</div>
        <div>¬© 2025 ‚Ä¢ Qur'an Word-by-Word (Bangla)</div>
      </footer>
    </div>

    <!-- MOBILE WORD DETAIL MODAL -->
    <div class="word-modal-backdrop" id="wordModalBackdrop">
      <div class="word-modal">
        <div class="word-modal-header">
          <div class="word-modal-title" id="wordModalTitle">
            ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§
          </div>
          <button class="word-modal-close" id="wordModalClose">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶® ‚úï</button>
        </div>
        <div class="word-modal-body">
          <div>
            <div class="word-modal-section-title">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∂‡¶¨‡ßç‡¶¶‡¶æ‡¶∞‡ßç‡¶•</div>
            <div class="word-modal-word" id="wordModalWord"></div>
            <div class="word-modal-meaning" id="wordModalMeaning"></div>
          </div>
          <div>
            <div class="word-modal-section-title">‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü</div>
            <div class="word-modal-grammar" id="wordModalGrammar"></div>
          </div>
        </div>
      </div>
    </div>

    <script src="suras.js"></script>
    <script>
      const readerContainer = document.getElementById("readerContainer");
      const initialPlaceholder = document.getElementById("initialPlaceholder");
      const readerPanelTitle = document.getElementById("readerPanelTitle");
      const readerPanelSubtitle = document.getElementById("readerPanelSubtitle");
      const currentSuraInfo = document.getElementById("currentSuraInfo");
      const suraListEl = document.getElementById("suraList");
      const suraCountBadge = document.getElementById("suraCountBadge");

      const modeSimpleBtn = document.getElementById("modeSimpleBtn");
      const modeWordByWordBtn = document.getElementById("modeWordByWordBtn");

      const chkOsmani = document.getElementById("chkOsmani");
      const chkTawjih = document.getElementById("chkTawjih");

      const fontArabicSmall = document.getElementById("fontArabicSmall");
      const fontArabicMedium = document.getElementById("fontArabicMedium");
      const fontArabicLarge = document.getElementById("fontArabicLarge");
      const fontBanglaSmall = document.getElementById("fontBanglaSmall");
      const fontBanglaMedium = document.getElementById("fontBanglaMedium");
      const fontBanglaLarge = document.getElementById("fontBanglaLarge");

      const detailSubtitle = document.getElementById("detailSubtitle");
      const detailPlaceholder = document.getElementById("detailPlaceholder");
      const detailContent = document.getElementById("detailContent");
      const detailWord = document.getElementById("detailWord");
      const detailMeaning = document.getElementById("detailMeaning");
      const detailGrammar = document.getElementById("detailGrammar");
      const detailFooterInfo = document.getElementById("detailFooterInfo");
      const btnGrammarToggle = document.getElementById("btnGrammarToggle");
      const backHomeLink = document.getElementById("backHomeLink");

      const wordModalBackdrop = document.getElementById("wordModalBackdrop");
      const wordModalClose = document.getElementById("wordModalClose");
      const wordModalTitle = document.getElementById("wordModalTitle");
      const wordModalWord = document.getElementById("wordModalWord");
      const wordModalMeaning = document.getElementById("wordModalMeaning");
      const wordModalGrammar = document.getElementById("wordModalGrammar");

      let currentSura = null;
      let currentSuraData = null;
      let currentMode = "simple";
      let activeSuraItem = null;
      let activeWordToken = null;
      let grammarVisible = true;
      let arabicFontSize = "medium";
      let banglaFontSize = "medium";

      function buildSuraList() {
        suraListEl.innerHTML = "";
        if (!window.suras || !Array.isArray(window.suras)) {
          suraCountBadge.textContent = "0";
          return;
        }
        suraCountBadge.textContent = window.suras.length.toString();

        window.suras.forEach((sura) => {
          const item = document.createElement("div");
          item.className = "sura-list-item";
          item.dataset.suraNumber = sura.number;

          const left = document.createElement("div");
          left.className = "sura-list-main";

          const titleLine = document.createElement("div");
          titleLine.className = "sura-list-title-line";

          const numPill = document.createElement("span");
          numPill.className = "sura-num-pill";
          numPill.textContent = sura.number.toString();

          const bnName = document.createElement("span");
          bnName.className = "sura-name-bn";
          bnName.textContent = sura.nameBn;

          titleLine.appendChild(numPill);
          titleLine.appendChild(bnName);

          const arName = document.createElement("div");
          arName.className = "sura-name-ar";
          arName.textContent = sura.nameAr;

          const meta = document.createElement("div");
          meta.className = "sura-list-meta";
          meta.textContent = `${sura.type === "Makki" ? "‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ" : "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"} ‚Ä¢ ‡¶Ü‡ßü‡¶æ‡¶§ ${sura.ayahCount}`;

          left.appendChild(titleLine);
          left.appendChild(arName);
          left.appendChild(meta);

          const right = document.createElement("div");
          right.className = "sura-list-right";

          const typeChip = document.createElement("span");
          typeChip.className = "sura-type-chip";
          typeChip.textContent = sura.type === "Makki" ? "‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ" : "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ";

          const countLine = document.createElement("span");
          countLine.className = "sura-ayah-count";
          countLine.textContent = `${sura.ayahCount} ‡¶Ü‡ßü‡¶æ‡¶§`;

          right.appendChild(typeChip);
          right.appendChild(countLine);

          item.appendChild(left);
          item.appendChild(right);

          item.addEventListener("click", () => {
            selectSura(sura, item);
          });

          suraListEl.appendChild(item);
        });
      }

      async function selectSura(suraMeta, listItemEl) {
        if (activeSuraItem) {
          activeSuraItem.classList.remove("active");
        }
        activeSuraItem = listItemEl;
        activeSuraItem.classList.add("active");

        currentSura = suraMeta;
        currentSuraData = null;
        activeWordToken = null;
        detailSubtitle.textContent = "‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶Æ‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∂‡¶¨‡ßç‡¶¶‡ßá tap ‡¶ï‡¶∞‡ßÅ‡¶®";
        detailPlaceholder.style.display = "flex";
        detailContent.style.display = "none";
        detailWord.textContent = "";
        detailMeaning.textContent = "";
        detailGrammar.textContent = "";
        detailFooterInfo.textContent = "‡¶Æ‡ßã‡¶ü ‡¶∂‡¶¨‡ßç‡¶¶: ‚Äî";

        readerPanelTitle.textContent = `${suraMeta.nameBn} ‚Äî ${suraMeta.nameAr}`;
        readerPanelSubtitle.textContent = `‡¶∏‡ßÅ‡¶∞‡¶æ ${suraMeta.number} ‚Ä¢ ${
          suraMeta.type === "Makki" ? "‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ" : "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"
        } ‚Ä¢ ‡¶Æ‡ßã‡¶ü ‡¶Ü‡ßü‡¶æ‡¶§ ${suraMeta.ayahCount}`;
        currentSuraInfo.textContent = `‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§: ‡¶∏‡ßÇ‡¶∞‡¶æ ${suraMeta.number}`;

        initialPlaceholder.style.display = "none";
        readerContainer.innerHTML = `<div class="detail-placeholder">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>`;

        try {
          const res = await fetch(suraMeta.file);
          if (!res.ok) throw new Error("JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø");
          const data = await res.json();
          currentSuraData = data;
          renderCurrentSura();
        } catch (err) {
          console.error(err);
          readerContainer.innerHTML = `<div class="detail-placeholder" style="color:${"var(--danger)"};">
              ‡¶è‡¶á ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ JSON data ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§ ‡¶´‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ, ‡¶™‡¶æ‡¶• ‡¶ì JSON ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
            </div>`;
        }
      }

      function renderCurrentSura() {
        if (!currentSuraData) return;

        readerContainer.innerHTML = "";

        if (currentSuraData.hasBismillah && currentSuraData.bismillah) {
          const b = currentSuraData.bismillah;
          const bism = document.createElement("div");
          bism.className = "bismillah-block";

          const bAr = document.createElement("div");
          bAr.className = "bismillah-ar";
          bAr.textContent = b.arabic || "ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸëŸéŸáŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸíŸÖŸéŸÜŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸêŸäŸÖŸê";

          bism.appendChild(bAr);

          const translations = b.translations || {};

          const showOsmani = chkOsmani.checked && translations.osmani;
          const showTawjih = chkTawjih.checked && translations.tawjih;

          if (currentMode === "simple") {
            if (showOsmani || showTawjih) {
              const transWrap = document.createElement("div");
              transWrap.className = "bismillah-trans";

              if (showOsmani) {
                const line = document.createElement("div");
                const lbl = document.createElement("span");
                lbl.className = "label";
                lbl.textContent = "‡¶§‡¶æ‡¶´‡¶∏‡ßÄ‡¶∞‡ßá ‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ:";
                const txt = document.createElement("span");
                txt.textContent = " " + translations.osmani;
                line.appendChild(lbl);
                line.appendChild(txt);
                transWrap.appendChild(line);
              }

              if (showTawjih) {
                const line = document.createElement("div");
                const lbl = document.createElement("span");
                lbl.className = "label";
                lbl.textContent = "‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®:";
                const txt = document.createElement("span");
                txt.textContent = " " + translations.tawjih;
                line.appendChild(lbl);
                line.appendChild(txt);
                transWrap.appendChild(line);
              }

              bism.appendChild(transWrap);
            }
          }

          readerContainer.appendChild(bism);
        }

        const ayahs = currentSuraData.ayahs || [];
        let totalWordCount = 0;

        ayahs.forEach((ayah) => {
          const block = document.createElement("div");
          block.className = "ayah-block";

          const metaLine = document.createElement("div");
          metaLine.className = "ayah-meta-line";
          metaLine.innerHTML = `<span>‡¶Ü‡ßü‡¶æ‡¶§ ${ayah.ayahNumber}</span>`;
          block.appendChild(metaLine);

          const arDiv = document.createElement("div");
          arDiv.className = "ayah-arabic";

          const words = ayah.words || [];
          totalWordCount += words.length;

          if (currentMode === "word" && words.length > 0) {
            words.forEach((w, idx) => {
              const span = document.createElement("span");
              span.className = "word-token";
              span.textContent = w.text || "";
              span.addEventListener("click", () => onWordClick(span, ayah, w, idx));
              arDiv.appendChild(span);
              arDiv.appendChild(document.createTextNode(" "));
            });
          } else {
            arDiv.textContent = ayah.arabic || "";
          }

          block.appendChild(arDiv);

          if (currentMode === "simple") {
            const trans = ayah.translations || {};
            const showOsmani = chkOsmani.checked && trans.osmani;
            const showTawjih = chkTawjih.checked && trans.tawjih;

            if (showOsmani || showTawjih) {
              const transBlock = document.createElement("div");
              transBlock.className = "ayah-translation-block";

              if (showOsmani) {
                const line = document.createElement("div");
                line.className = "ayah-translation-line";
                line.innerHTML = `<span class="ayah-translation-label">‡¶§‡¶æ‡¶´‡¶∏‡ßÄ‡¶∞‡ßá ‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ:</span>${trans.osmani}`;
                transBlock.appendChild(line);
              }

              if (showTawjih) {
                const line = document.createElement("div");
                line.className = "ayah-translation-line";
                line.innerHTML = `<span class="ayah-translation-label">‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®:</span>${trans.tawjih}`;
                transBlock.appendChild(line);
              }

              block.appendChild(transBlock);
            }
          }

          readerContainer.appendChild(block);
        });

        detailFooterInfo.textContent = `‡¶Æ‡ßã‡¶ü ‡¶∂‡¶¨‡ßç‡¶¶: ${
          totalWordCount > 0 ? totalWordCount : "‚Äî"
        }`;

        applyFontSizes();
      }

      function onWordClick(span, ayah, word, index) {
        if (activeWordToken) {
          activeWordToken.classList.remove("active");
        }
        activeWordToken = span;
        span.classList.add("active");

        const meaningText = word.meaningBn || "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶Ö‡¶∞‡ßç‡¶• ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§";
        const grammarText = word.notes || "‡¶è‡¶á ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü ‡¶è‡¶ñ‡¶®‡ßã ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø‡•§";

        detailSubtitle.textContent = `‡¶Ü‡ßü‡¶æ‡¶§ ${ayah.ayahNumber} ‚Äî ‡¶∂‡¶¨‡ßç‡¶¶ ${index + 1}`;
        detailPlaceholder.style.display = "none";
        detailContent.style.display = "block";
        detailWord.textContent = word.text || "";
        detailMeaning.textContent = meaningText;
        detailGrammar.textContent = grammarText;
        detailGrammar.style.display = grammarVisible ? "block" : "none";

        const isMobile = window.innerWidth <= 900;
        if (isMobile) {
          wordModalTitle.textContent = `‡¶Ü‡ßü‡¶æ‡¶§ ${ayah.ayahNumber} ‚Äî ‡¶∂‡¶¨‡ßç‡¶¶ ${index + 1}`;
          wordModalWord.textContent = word.text || "";
          wordModalMeaning.textContent = meaningText;
          wordModalGrammar.textContent = grammarText;
          wordModalBackdrop.style.display = "flex";
        }
      }

      wordModalClose.addEventListener("click", () => {
        wordModalBackdrop.style.display = "none";
      });

      wordModalBackdrop.addEventListener("click", (e) => {
        if (e.target === wordModalBackdrop) {
          wordModalBackdrop.style.display = "none";
        }
      });

      function setMode(mode) {
        currentMode = mode;
        if (mode === "simple") {
          modeSimpleBtn.classList.add("active");
          modeWordByWordBtn.classList.remove("active");
        } else {
          modeSimpleBtn.classList.remove("active");
          modeWordByWordBtn.classList.add("active");
        }
        if (currentSuraData) {
          renderCurrentSura();
        }
      }

      modeSimpleBtn.addEventListener("click", () => setMode("simple"));
      modeWordByWordBtn.addEventListener("click", () => setMode("word"));

      chkOsmani.addEventListener("change", () => {
        if (currentSuraData) renderCurrentSura();
      });
      chkTawjih.addEventListener("change", () => {
        if (currentSuraData) renderCurrentSura();
      });

      function applyFontSizes() {
        const allArabicEls = readerContainer.querySelectorAll(
          ".ayah-arabic, .bismillah-ar"
        );
        const allBanglaEls = readerContainer.querySelectorAll(
          ".ayah-translation-line, .bismillah-trans, .bismillah-bn"
        );

        let arSize;
        if (arabicFontSize === "small") arSize = "1rem";
        else if (arabicFontSize === "large") arSize = "1.4rem";
        else arSize = "1.2rem";

        allArabicEls.forEach((el) => {
          el.style.fontSize = arSize;
        });

        let bnSize;
        if (banglaFontSize === "small") bnSize = "0.8rem";
        else if (banglaFontSize === "large") bnSize = "1rem";
        else bnSize = "0.9rem";

        allBanglaEls.forEach((el) => {
          el.style.fontSize = bnSize;
        });

        detailMeaning.style.fontSize = bnSize;
        detailGrammar.style.fontSize = "0.82rem";
      }

      function setArabicFontSize(size) {
        arabicFontSize = size;
        [fontArabicSmall, fontArabicMedium, fontArabicLarge].forEach((btn) =>
          btn.classList.remove("active")
        );
        if (size === "small") fontArabicSmall.classList.add("active");
        else if (size === "large") fontArabicLarge.classList.add("active");
        else fontArabicMedium.classList.add("active");
        applyFontSizes();
      }

      function setBanglaFontSize(size) {
        banglaFontSize = size;
        [fontBanglaSmall, fontBanglaMedium, fontBanglaLarge].forEach((btn) =>
          btn.classList.remove("active")
        );
        if (size === "small") fontBanglaSmall.classList.add("active");
        else if (size === "large") fontBanglaLarge.classList.add("active");
        else fontBanglaMedium.classList.add("active");
        applyFontSizes();
      }

      fontArabicSmall.addEventListener("click", () =>
        setArabicFontSize("small")
      );
      fontArabicMedium.addEventListener("click", () =>
        setArabicFontSize("medium")
      );
      fontArabicLarge.addEventListener("click", () =>
        setArabicFontSize("large")
      );

      fontBanglaSmall.addEventListener("click", () =>
        setBanglaFontSize("small")
      );
      fontBanglaMedium.addEventListener("click", () =>
        setBanglaFontSize("medium")
      );
      fontBanglaLarge.addEventListener("click", () =>
        setBanglaFontSize("large")
      );

      btnGrammarToggle.addEventListener("click", () => {
        grammarVisible = !grammarVisible;
        detailGrammar.style.display = grammarVisible ? "block" : "none";
        btnGrammarToggle.querySelector("span:nth-child(2)").textContent = grammarVisible
          ? "‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶ì"
          : "‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì";
      });

      backHomeLink.addEventListener("click", () => {
        readerContainer.scrollTo({ top: 0, behavior: "smooth" });
      });

      buildSuraList();
    </script>
  </body>
</html>
